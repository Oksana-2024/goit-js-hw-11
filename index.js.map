{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const API_KEY = '46863528-4fa0c0b33a1ffe205dd5514d4';\n\nexport const BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchData(url = BASE_URL, options = {}) {\n  return fetch(url, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n","export function createGallery(array, element, gallery) {\n  const imagesFragment = document.createDocumentFragment();\n  for (const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } of array) {\n    const listItem = document.createElement('li');\n    listItem.classList.add('list-item');\n    const linkItem = document.createElement('a');\n    linkItem.classList.add('link-item');\n    const img = document.createElement('img');\n    const box = document.createElement('div');\n    box.classList.add('desc-container');\n\n    linkItem.href = largeImageURL;\n    img.src = webformatURL;\n    img.alt = tags;\n    img.width = '360';\n    img.height = '200';\n    listItem.appendChild(linkItem);\n    linkItem.appendChild(img);\n    linkItem.appendChild(box);\n\n    for (const [text, value] of [\n      ['likes', likes],\n      ['views', views],\n      ['comments', comments],\n      ['downloads', downloads],\n    ]) {\n      const container = document.createElement('div');\n      const title = document.createElement('p');\n      title.classList.add('title');\n      const titleValue = document.createElement('p');\n      titleValue.classList.add('title-value');\n\n      box.appendChild(container);\n      container.appendChild(title);\n      container.appendChild(titleValue);\n      title.textContent = text;\n      titleValue.textContent = value;\n    }\n    imagesFragment.appendChild(listItem);\n  }\n  element.innerHTML = '';\n  element.append(imagesFragment);\n\n  gallery.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { API_KEY, BASE_URL, fetchData } from './js/pixabay-api';\nimport { createGallery } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst form = document.querySelector('form');\nconst list = document.querySelector('.gallery');\nconst input = document.querySelector('input');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  if (!input.value.trim()) {\n    return;\n  }\n  const query = new URLSearchParams({\n    key: API_KEY,\n    q: input.value.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('hidden');\n  fetchData(`${BASE_URL}?${query}`)\n    .then(response => {\n      if (response.hits.length < 1) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: '#ef4040',\n          messageColor: '#fff',\n          theme: 'dark',\n        });\n        list.innerHTML = '';\n        return;\n      }\n      createGallery(response.hits, list, gallery);\n    })\n    .catch(err => console.log(err))\n    .finally(() => loader.classList.add('hidden'));\n}\n"],"names":["API_KEY","BASE_URL","fetchData","url","options","response","createGallery","array","element","gallery","imagesFragment","webformatURL","largeImageURL","tags","likes","views","comments","downloads","listItem","linkItem","img","box","text","value","container","title","titleValue","SimpleLightbox","form","list","input","handleSubmit","event","query","loader","iziToast","err"],"mappings":"6vBAAO,MAAMA,EAAU,qCAEVC,EAAW,2BAEjB,SAASC,EAAUC,EAAMF,EAAUG,EAAU,CAAA,EAAI,CACtD,OAAO,MAAMD,EAAKC,CAAO,EAAE,KAAKC,GAAY,CAC1C,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,CCXO,SAASC,EAAcC,EAAOC,EAASC,EAAS,CACrD,MAAMC,EAAiB,SAAS,yBAChC,SAAW,CACT,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IAAIV,EAAO,CACV,MAAMW,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,WAAW,EAClC,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,UAAU,IAAI,WAAW,EAClC,MAAMC,EAAM,SAAS,cAAc,KAAK,EAClCC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,gBAAgB,EAElCF,EAAS,KAAOP,EAChBQ,EAAI,IAAMT,EACVS,EAAI,IAAMP,EACVO,EAAI,MAAQ,MACZA,EAAI,OAAS,MACbF,EAAS,YAAYC,CAAQ,EAC7BA,EAAS,YAAYC,CAAG,EACxBD,EAAS,YAAYE,CAAG,EAExB,SAAW,CAACC,EAAMC,CAAK,GAAK,CAC1B,CAAC,QAAST,CAAK,EACf,CAAC,QAASC,CAAK,EACf,CAAC,WAAYC,CAAQ,EACrB,CAAC,YAAaC,CAAS,CAC7B,EAAO,CACD,MAAMO,EAAY,SAAS,cAAc,KAAK,EACxCC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,UAAU,IAAI,OAAO,EAC3B,MAAMC,EAAa,SAAS,cAAc,GAAG,EAC7CA,EAAW,UAAU,IAAI,aAAa,EAEtCL,EAAI,YAAYG,CAAS,EACzBA,EAAU,YAAYC,CAAK,EAC3BD,EAAU,YAAYE,CAAU,EAChCD,EAAM,YAAcH,EACpBI,EAAW,YAAcH,CAC1B,CACDb,EAAe,YAAYQ,CAAQ,CACpC,CACDV,EAAQ,UAAY,GACpBA,EAAQ,OAAOE,CAAc,EAE7BD,EAAQ,QAAO,CACjB,CC3CA,MAAMA,EAAU,IAAIkB,EAAe,aAAc,CAC/C,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAQ,SAAS,cAAc,OAAO,EAE5CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAE3B,GADAA,EAAM,eAAc,EAChB,CAACF,EAAM,MAAM,OACf,OAEF,MAAMG,EAAQ,IAAI,gBAAgB,CAChC,IAAKjC,EACL,EAAG8B,EAAM,MAAM,KAAM,EACrB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,OAAO,QAAQ,EAChChC,EAAU,GAAGD,CAAQ,IAAIgC,CAAK,EAAE,EAC7B,KAAK5B,GAAY,CAChB,GAAIA,EAAS,KAAK,OAAS,EAAG,CAC5B8B,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,MAAO,UACP,aAAc,OACd,MAAO,MACjB,CAAS,EACDN,EAAK,UAAY,GACjB,MACD,CACDvB,EAAcD,EAAS,KAAMwB,EAAMpB,CAAO,CAChD,CAAK,EACA,MAAM2B,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMF,EAAO,UAAU,IAAI,QAAQ,CAAC,CACjD"}